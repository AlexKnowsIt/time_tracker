{% extends 'base.html' %}

{% block content %}
<h2 class="middel">Dashboard zur Produktivit√§tssteigerung</h2>
<div class="row">
    <div class="col-md-6">
        <canvas id="myChart"></canvas>
    </div>
    <div class="col-md-6">
        <canvas id="myChart2"></canvas>
    </div>  
    <div class="col-md-6">
        <canvas id="myChart3"></canvas>
    </div>
    <div class="col-md-6">
        <canvas id="myChart4"></canvas>
    </div>
</div>
    
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

<script>
    var defaultData = []
    var labels = []
    var endpoint = '/api/day/'
    $.ajax({
        method: "GET",
        url: endpoint,
        success: function (data){
            defaultData = data.daten
            labels = data.labels
            console.log(defaultData, labels)
            var ctx = document.getElementById('myChart').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
            type: 'pie',

    // The data for our dataset
            data: {
                labels: labels,
                datasets: [{
                    label: 'Zeit Deeplearning',
                    backgroundColor: 'rgb(102, 174, 0)',
                    borderColor: 'rgb(55, 99, 20)',
                    data: defaultData,
                    }]
                }
            })
        },
        error: function(error_data){
            console.log('error')
            console.log(error_data)
        }
    })

    
    var defaultData = []
    var labels = []
    var endpoint = '/api/day-comp/'
    $.ajax({
        method: "GET",
        url: endpoint,
        success: function (data){
            defaultData = data.daten
            labels = data.labels
            var ctx = document.getElementById('myChart2').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
            type: 'bar',

    // The data for our dataset
            data: {
                labels: labels,
                datasets: [{
                    label: 'Zeit Deeplearning',
                    backgroundColor: 'rgb(102, 174, 0)',
                    borderColor: 'rgb(55, 99, 20)',
                    data: defaultData,
                    }]
                }
            })
        },
        error: function(error_data){
            console.log('error')
            console.log(error_data)
        }
    })

    var defaultData = []
    var labels = []
    var endpoint = '/api/week/'
    $.ajax({
        method: "GET",
        url: endpoint,
        success: function (data){
            defaultData = data.daten
            labels = data.labels
            var ctx = document.getElementById('myChart3').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
            type: 'pie',

    // The data for our dataset
            data: {
                labels: labels,
                datasets: [{
                    label: 'Zeit Deeplearning',
                    backgroundColor: 'rgb(102, 174, 0)',
                    borderColor: 'rgb(55, 99, 20)',
                    data: defaultData,
                    }]
                }
            })
        },
        error: function(error_data){
            console.log('error')
            console.log(error_data)
        }
    })

    var defaultData = []
    var labels = []
    var endpoint = '/api/week-work/'
    $.ajax({
        method: "GET",
        url: endpoint,
        success: function (data){
            defaultData = data.daten
            labels = data.labels
            var ctx = document.getElementById('myChart4').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
            type: 'line',

    // The data for our dataset
            data: {
                labels: labels,
                datasets: [{
                    label: 'Zeit Deeplearning',
                    backgroundColor: 'rgb(102, 174, 0)',
                    borderColor: 'rgb(55, 99, 20)',
                    data: defaultData,
                    }]
                }
            })
        },
        error: function(error_data){
            console.log('error')
            console.log(error_data)
        }
    })
</script>

{% endblock %}